<!DOCTYPE html>
<html>
  
<!-- Mirrored from api.irissmarttest.com/v5/docs/calls/widgets/homestatus by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Feb 2014 21:37:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <base  />
    <link rel="stylesheet" type="text/css" href="../../css.css" />
    <title>AlertMe.com API v5 Documentation :: calls/widgets/homestatus :: DRAFT</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
  </head>
  <body>
    <h1>
      API v5 Documentation <span>draft</span>
    </h1>
    <div class="menu">
      <ul class="menu">
   <li><h4><a href="../../../docs.html">overview</a></h4>
      <ul>
         <li><a href="../../responses.html">responses</a></li>
         <li><a href="../../errors.html">errors</a></li>
         <li><a href="../../examples.html">examples</a></li>

      </ul>
   </li>
   <li><h4>calls</h4>
      <ul>

         <li><a href="../sessions.html">sessions</a></li>

         <li><a href="../users.html">users</a>
            <ul>

               <li><a href="../users/systemalerts.html">system alerts</a></li>

               <li><a href="../questions.html">questions</a></li>

               <li><a href="../hubs.html">hubs</a>
                  <ul>
                     <li><a href="../hubs/activityLog.html">activity log (history)</a></li>
                     <li><a href="../devices.html">devices</a>
                       <ul>

                           <li><a href="../devices/events.html">events</a></li>

                        </ul>
                     </li>
                     <li><a href="../hubs/profiles.html">profiles</a></li>

                     <li>rules
                        <ul>
                           <li><a href="../rules/actions.html">actions</a></li>
                           <li><a href="../../actions.html">action types</a></li>                           
                           <li><a href="../rules/wizard.html">wizard</a></li>
                        </ul>
                     </li>
                     <li><a href="../services.html">services</a>
                        <ul>

                           <li><a href="../services/events.html">events</a></li>

                        </ul>
                     </li>

                  </ul>
               </li>

               <li><a href="../widgets.html">widgets</a>
                  <ul>
                     <li><a href="alarm.html">alarm</a></li>
                     <li><a href="care.html">care</a></li>
                     <li><a href="cameras.html">cameras</a></li>
                     <li><a href="climate.html">climate</a></li>
                     <li><a href="dashboard.html">dashboard</a></li>
                     <li><a href="heating.html">heating</a></li>
                     <li><a href="locks.html">locks</a></li>
                     <li><a href="homestatus.html">homestatus</a></li>

                     <li><a href="presence.html">presence</a></li>
                     <li><a href="smartplugs.html">smartplugs</a></li>
                     <li><a href="swingometer.html">swingometer</a></li>
                     <li><a href="temperature.html">temperature</a></li>
                     <li><a href="usage.html">usage</a></li>
                     <li><a href="petdoors.html">petdoors</a></li>
                     <li><a href="group.html">groups</a></li>
                     <li><a href="history.html">history</a></li>
                     <li><a href="irrigation.html">irrigation</a></li>
                     <li><a href="secondaryuser.html">secondaryuser</a></li>
                  </ul>
               </li>
            </ul>
         </li>
      </ul>
   </li>
</ul>
    </div>
    <div class="doc calls widgets homestatus_page">
      <div class="section">
    <p>
        All calls listed below follow
        <span class="call">/users/<em>:userId</em>/widgets</span>
        in the URI;
        this prefix has been omitted for conciseness
    </p>
</div>

<div class="section">
   <h2>GET <span class="call">/homeStatus/</span></h2>
   <p>Returns status of hub and all available devices for this hub</p>
    <div class="args">
       <h3>Arguments: </h3>
       <dl>
          <dt>detail</dt>  <dd>[optional] hub+devices by default, can be one of the list: hub, devices, actionableDevices, systemInfo</dd>
       </dl>
    </div>

   <div class="sample">
      <h3>Sample Response</h3>
      <p class="json">
{
  "hub": {
      "name":               "Joe's House",
      "available":          true,
      "upgrading":          false,
      "configured":         true,
      "version":            "2.10",
      "latestVersion":      "2.12",
      "upgrade":            "INELIGIBLE",
      "version":            "HUB_NOT_PRESENT",
      "powerType":          "AC",
      "connectionType":     "BROADBAND",
      "onSince":            1272387672,
      "upTime":             4168,
      "timezone":           -210,
      "daylightSaving":     "EU",
      "behaviourId":        9887,
      "behaviourType":      "HOME",
      "hardwareRevision":   2,
      "ip":                 "192.168.1.1",
      "externalIp":         "172.16.254.1",
      "simPresent":         true,
      "gprsSignalStrength": 12,
      "currentImei":        "359511111111111",
      "currentIccid":       "8944123456789012345",
      "currentSimId":       "231111111111111",
      "zigbeeNetworkInfo":  "231",
      "macAddress":         "AAA-001 (00-11-22-33-44-55)",
      "simHistory":
        [
           {
              "state":      "done",
              "start_date": "2011-11-15 17:30:00",
              "simiccid":   "8944123456789012345",
              "imei":       "359511111111111",
              "provider":   "orange"
           }
        ]
   },
   "devices": {
      "00-0D-6F-00-00-1D-A6-C3": {
          "name":"Smart Plug 1",
          "type":"SmartPlug",
          "protocol": [
            "zigbee"
          ],
          "battery":false,
          "batteryLow":false,
          "batteryLevel":1,
          "batteryPercentage":20,
          "mains":true,
          "power":false,
          "signal":false,
          "presence":false,
          "temperature":false,
          "version":"VERSION_UNAVAILABLE",
          "latestVersion":"VERSION_UNAVAILABLE",
          "upgradeStatus":false,
          "upgrade":"INELIGIBLE",
          "reason":"DEVICE_IN_LIMBO",
          "hardwareRevision":"1.0",
          "state":"ON"
      },
      "00-0D-6F-00-00-20-90-F2": {
          "name":"new smarty1",
          "type":"ContactSensor",
          "protocol": [
            "zigbee"
          ],
          "battery":2.69921875,
          "batteryLow":false,
          "batteryLevel":2,
          "batteryPercentage":40,
          "mains":false,
          "power":null,
          "signal":100,
          "presence":true,
          "temperature":27,
          "version":"2.3r1",
          "latestVersion":"VERSION_UNAVAILABLE",
          "upgradeStatus":"Ok",
          "upgrade":"INELIGIBLE",
          "reason":"ALREADY_AT_LATEST_VERSION",
          "hardwareRevision":"1.0",
          "state":"OPEN"
      }
    },
    "widgetStatus": "OK",
    "widgetVisible": "true"

}
</p>
<h3>Possible Hub Values</h3>
<dl>
 <dt>available</dt> <dd>true, false</dd>
 <dt>availableStatus</dt> <dd>"HUB_OFFLINE", "HUB_SERVER_OFFLINE", "FAKE_HUB", "HUB_UPGRADING", "HUB_ONLINE"</dd>
 <dt>upgrading</dt> <dd>true, false</dd>
 <dt>behaviourType</dt> <dd>"HOME", "AWAY", "NIGHT"</dd>
 <dt>powerType</dt> <dd>"AC", "BATTERY"</dd>
 <dt>connectionType</dt> <dd>"BROADBAND", "GPRS"</dd>
 <dt>timezone</dt> <dd>(offset in minutes from GMT)</dd>
 <dt>hardwareRevision</dt> <dd>integer: 1 classic, 2 starter, 3 nano, 4 mini</dd>
 <dt>ip</dt> <dd>IPv4, "UNAVAILABLE", "UNKNOWN"</dd>
 <dt>externalIp</dt> <dd>IPv4, "UNAVAILABLE", "UNKNOWN"</dd>
 <dt>gprsSignalStrength</dt> <dd>integer number in range [0..100] or null (if SIM is not present or signal is not known)</dd>
</dl>
</div>
<p class="note">NOTE: You can only access hubs which belong to your user</p>
 <p class="note">
    The "upgrade" value can be "ELIGIBLE", "INELIGIBLE", "DOWNLOADING", "PROGRAMMING".
 </p>
 <p class="note">The "reason" value is only filled in if the "upgrade" value is "INELIGIBLE".</p>
 <p class="note">
    The "latestRequiredVersion" value is the minimum version required for the hub to be at, for the upgrade
    criticality specified in the call argument.
    This field may be omitted if there are no such requirements.
 </p>
</div>
    </div>
  </body>

<!-- Mirrored from api.irissmarttest.com/v5/docs/calls/widgets/homestatus by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Feb 2014 21:37:15 GMT -->
</html>
