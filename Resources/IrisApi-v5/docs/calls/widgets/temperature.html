<!DOCTYPE html>
<html>
  
<!-- Mirrored from api.irissmarttest.com/v5/docs/calls/widgets/temperature by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Feb 2014 21:37:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <base  />
    <link rel="stylesheet" type="text/css" href="../../css.css" />
    <title>AlertMe.com API v5 Documentation :: calls/widgets/temperature :: DRAFT</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
  </head>
  <body>
    <h1>
      API v5 Documentation <span>draft</span>
    </h1>
    <div class="menu">
      <ul class="menu">
   <li><h4><a href="../../../docs.html">overview</a></h4>
      <ul>
         <li><a href="../../responses.html">responses</a></li>
         <li><a href="../../errors.html">errors</a></li>
         <li><a href="../../examples.html">examples</a></li>

      </ul>
   </li>
   <li><h4>calls</h4>
      <ul>

         <li><a href="../sessions.html">sessions</a></li>

         <li><a href="../users.html">users</a>
            <ul>

               <li><a href="../users/systemalerts.html">system alerts</a></li>

               <li><a href="../questions.html">questions</a></li>

               <li><a href="../hubs.html">hubs</a>
                  <ul>
                     <li><a href="../hubs/activityLog.html">activity log (history)</a></li>
                     <li><a href="../devices.html">devices</a>
                       <ul>

                           <li><a href="../devices/events.html">events</a></li>

                        </ul>
                     </li>
                     <li><a href="../hubs/profiles.html">profiles</a></li>

                     <li>rules
                        <ul>
                           <li><a href="../rules/actions.html">actions</a></li>
                           <li><a href="../../actions.html">action types</a></li>                           
                           <li><a href="../rules/wizard.html">wizard</a></li>
                        </ul>
                     </li>
                     <li><a href="../services.html">services</a>
                        <ul>

                           <li><a href="../services/events.html">events</a></li>

                        </ul>
                     </li>

                  </ul>
               </li>

               <li><a href="../widgets.html">widgets</a>
                  <ul>
                     <li><a href="alarm.html">alarm</a></li>
                     <li><a href="care.html">care</a></li>
                     <li><a href="cameras.html">cameras</a></li>
                     <li><a href="climate.html">climate</a></li>
                     <li><a href="dashboard.html">dashboard</a></li>
                     <li><a href="heating.html">heating</a></li>
                     <li><a href="locks.html">locks</a></li>
                     <li><a href="homestatus.html">homestatus</a></li>

                     <li><a href="presence.html">presence</a></li>
                     <li><a href="smartplugs.html">smartplugs</a></li>
                     <li><a href="swingometer.html">swingometer</a></li>
                     <li><a href="temperature.html">temperature</a></li>
                     <li><a href="usage.html">usage</a></li>
                     <li><a href="petdoors.html">petdoors</a></li>
                     <li><a href="group.html">groups</a></li>
                     <li><a href="history.html">history</a></li>
                     <li><a href="irrigation.html">irrigation</a></li>
                     <li><a href="secondaryuser.html">secondaryuser</a></li>
                  </ul>
               </li>
            </ul>
         </li>
      </ul>
   </li>
</ul>
    </div>
    <div class="doc calls widgets temperature_page">
      <div class="section root">
   <p>All calls listed below follow <span class="call">/users/<em>:username</em>/widgets</span> in 
   the URI; this prefix has been omitted for conciseness.</p>
   <p class="note">All temperatures are provided in degrees Celsius or Fahrenheit according to the user's registered preference, indicated by the temperatureUnit parameter.</p>
</div>
<div class="section">
   <h2>GET<span class="call">/temperature</span></h2>
   <p>Returns a summary of temperature information.</p>
   
   <div class="sample">
      <h3>Sample Response:</h3>
      <p class="json">
{
   "temperatureUnit":"C",
   "inside": {
      "now": 24.38,
      "temperatureLevel": 3,
      "averages": {
         "today": 22.83,
         "yesterday": 22.56,
         "lastWeek": 22.34
      }
   },
   "outside": {
      "now": 21,
      "weather": {
         "now": "SUNNY_INTERVALS"
      }
   },
   "widgetStatus":"OK",
   "widgetVisible":true
}
      </p>
   </div>
   
   <p class="note"><b>temperatureLevel</b> is a nuber in range [1..6] that is used for temperature icons in web and mobile apps</p>
   <p class="note">If current temperature inside is unknown ("--") <b>temperatureLevel</b> has default value 3</p>

    <div class="args">
        <h3>Possible widgetStatuses</h3>
        <dl class="wide">
            <dt>OK</dt>
            <dd>Widget able to prepare all data</dd>
            <dt>NOT_AVAILABLE</dt>
            <dd>Widget is not available due user's subscription</dd>
            <dt>NO_DEVICE</dt>
            <dd>No device assigned to this widget</dd>
            <dt>DEVICE_MISSING</dt>
            <dd>Assigned devices are missing</dd>
            <dt>NO_DATA</dt>
            <dd>Inner error, data cannot be prepared correctly</dd>
        </dl>
    </div>

</div>

<div class="section">
    <h2>GET <span class="call">/temperature/history</span></h2>

    <p>Returns temperature history.</p>
    
    

    <div class="args">
        <h3>Arguments:</h3>
        <dl>
            <dt>period</dt>
            <dd>one of: 
                <span class='keys'>
                <b>today,</b><b>yesterday,</b><b>thisWeek,</b><b>thisMonth,</b><b>thisYear,</b>
                <b>yearView,</b> <b>monthView,</b> <b>weekView,</b> <b>dayView,</b> <b>hourView</b><b>custom</b></span>
                
            </dd>
            <dt>year</dt>
            <dd>is a full numeric representation of a year, 4 digits. For periods:
                <span class='keys'><b>yearView,</b> <b>monthView,</b> <b>weekView,</b> <b>dayView,</b> <b>hourView</b><b></b></span>
            </dd>
            <dt>month</dt>
            <dd>is a numeric representation of a month, 1 or 2 digits. For periods:
                <span class='keys'><b></b> <b>monthView,</b> <b></b> <b>dayView,</b> <b>hourView</b><b></b></span>
            </dd>
            <dt>day</dt>
            <dd>is a day of the day, 1 or 2 digits. For periods:
                <span class='keys'><b></b> <b></b> <b></b> <b>dayView,</b> <b>hourView</b><b></b></span>
            </dd>
            <dt>week</dt>
            <dd>is ISO-8601 week number of year, weeks starting on Monday. For period:
                is: 
                <span class='keys'><b></b> <b></b> <b>weekView</b> <b></b> <b></b><b></b></span>
            </dd>
            <dt>hour</dt>
            <dd>is 24-hour format of an hour, 1 or 2 digits</dd>
            <dt>year_from</dt>
            <dd>is a full numeric representation of a year, 4 digits. For period:
               <span class='keys'><b></b> <b></b> <b></b> <b></b> <b>hourView</b><b></b></span>
                
            </dd>
            <dt>month_from</dt>
            <dd>is a numeric representation of a month, 1 or 2 digits. For period:
                <span class='keys'><b>custom</b></span>
            </dd>
            <dt>day_from</dt>
            <dd>is a day of the day, 1 or 2 digits. For period:
               <span class='keys'><b>custom</b></span>
            </dd>            
            <dt>year_to</dt>
            <dd>is a full numeric representation of a year, 4 digits. For period:
               <span class='keys'><b>custom</b></span>
            </dd>
            <dt>month_to</dt>
            <dd>is a numeric representation of a month, 1 or 2 digits. For period:
               <span class='keys'><b>custom</b></span>
            </dd>
            <dt>day_to</dt>
            <dd>is a day of the day, 1 or 2 digits. For period:
               <span class='keys'><b>custom</b></span>
            </dd>            
        </dl>
        <table>
        <tr><td>Period</td><td>Required parameters</td><td>Interval</td><td>Date format</td></tr>
        <tr><td>custom</td><td>year_from, month_from, day_from, year_to, month_to, day_to</td><td>1 day</td><td>2011-02-15</td></tr>
        <tr><td>thisHour</td><td></td><td>15 minutes</td><td>2011-02-15 9:45</td></tr>
        <tr><td>hourView</td><td>year, month, day, hour</td><td>15 minutes</td><td>2011-02-15 9:45</td></tr>
        <tr><td>today</td><td></td><td>30 minutes</td><td>2011-02-15 9:30</td></tr>
        <tr><td>yesterday</td><td></td><td>30 minutes</td><td>2011-02-15 9:30</td></tr>
        <tr><td>hourView</td><td>year, month, day, hour</td><td>30 minutes</td><td>2011-02-15 9:30</td></tr>
        <tr><td>thisWeek</td><td></td><td>1 day</td><td>2011-02-15</td></tr>
        <tr><td>weekView</td><td>year, week</td><td>1 day</td><td>2011-02-15</td></tr>
        <tr><td>thisMonth</td><td></td><td>1 day</td><td>2011-02-15</td></tr>
        <tr><td>monthView</td><td>year, month</td><td>1 day</td><td>2011-02-15</td></tr>
        <tr><td>thisYear</td><td></td><td>1 month</td><td>2011-02</td></tr>
        <tr><td>yearView</td><td>year</td><td>1 month</td><td>2011-02</td></tr>
        
        
        </table>
    </div>

    <div class="sample">
        <h3>Sample Requests:</h3>        Hour
        <table>
           <tbody><tr><th>Request</th><th>Returns temperature for</th></tr></tbody>
           <tbody>
           <tr><td>/temperature/history?period=thisYear</td>
           <td>current year by months</td></tr>
           <tr><td>/temperature/history?period=thisMonth</td>
           <td>current month by days</td></tr>
           <tr><td>/temperature/history?period=thisWeek</td>
           <td>current week by days</td></tr>
           <tr><td>/temperature/history?period=today</td>
           <td>today by hours</td></tr>
           <tr><td>/temperature/history?period=yesterday</td>
           <td>yesterday by hours</td></tr>
           <tr><td>/temperature/history?period=thisHour</td>
           <td>current hour by minutes</td></tr>
           <tr><td>/temperature/history?period=thisHour</td>
           <td>current hour by 30 minutes</td></tr>
           <tr><td>/temperature/history?period=yearView&amp;year=2010</td>
           <td>2010 year by months</td></tr>
           <tr><td>/temperature/history?period=monthView&amp;year=2010&amp;month=11</td>
           <td>November 2010 by days</td></tr>
           <tr><td>/temperature/history?period=weekView&amp;year=2010&amp;week=36</td>
           <td>the 36th week of 2010 by days</td></tr>
           <tr><td>/temperature/history?period=dayView&amp;year=2010&amp;month=11&amp;day=23</td>
           <td>23.11.2010 by hours</td></tr>
           <tr><td>/temperature/history?period=hourView&amp;year=2010&amp;month=11&amp;day=23&amp;hour=15</td>
           <td>3 PM of 23.11.2010 by 30 minutes</td></tr>
           <tr><td>/temperature/history?period=custom&amp;year_from=2010&amp;month_from=10&amp;day_from=17&amp;year_to=2010&amp;month_to=10&amp;day_to=22</td>
           <td>from 17.10.2010 to 22.10.2010 by days</td></tr>
           </tbody>
        </table>
    </div>

    <div class="sample">
        <h3>Sample Response:</h3>
        
        <p class="json">
{
    "period"         : "monthView",
    "temperatureUnit": "C",
    "data"                 : [
                                 {"date": "2010-05-01", "temperature" : 21.1},
                                 {"date": "2010-05-02", "temperature" : 21.5},
                                 {"date": "2010-05-03", "temperature" : 21.2},
                                 ...,
                                 {"date": "2010-05-28", "temperature" : 20.9},
                                 {"date": "2010-05-29", "temperature" : 20.8},
                                 {"date": "2010-05-30", "temperature" : 21.3}
                             ]
}
        </p>
        <p class="note">"date" is in YYYY-MM-DD HH:MI format, with trailing components missing as appropriate for the interval - see above.</p>
        <p class="note">"temperature" is in Celsius or Fahrenheit depending on the temperatureUnit.</p>
    </div>

    <div class="errors">
        <h3>Returned errors:</h3>
        <dl>
            <dt>404 INVALID_PARAMETER</dt>    <dd>The requested <em>:energyType</em> is not valid. Must be <em>gas</em> or <em>electricity</em></dd>
            <dt>404 INVALID_PERIOD</dt>  <dd>:period is invalid</dd>
            <dt>400 MISSING_PARAMETER</dt>  <dd>One of :year, :month, :day, :week, :hour, :year_from, :month_from, :day_from, :year_to, :month_to, :day_to is missing from request</dd>
            <dt>400 INVALID_PARAMETER</dt>  <dd>One of :year, :month, :day, :week, :hour, :year_from, :month_from, :day_from, :year_to, :month_to, :day_to is invalid</dd>
            <dt>404 NO_DATA</dt>  <dd>There was no stored data to return in the request period specified.</dd>
        </dl>
    </div>
</div>



    </div>
  </body>

<!-- Mirrored from api.irissmarttest.com/v5/docs/calls/widgets/temperature by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Feb 2014 21:37:15 GMT -->
</html>
