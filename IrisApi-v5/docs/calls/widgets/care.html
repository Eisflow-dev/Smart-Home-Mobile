<!DOCTYPE html>
<html>
  
<!-- Mirrored from api.irissmarttest.com/v5/docs/calls/widgets/care by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Feb 2014 21:37:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <base  />
    <link rel="stylesheet" type="text/css" href="../../css.css" />
    <title>AlertMe.com API v5 Documentation :: calls/widgets/care :: DRAFT</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
  </head>
  <body>
    <h1>
      API v5 Documentation <span>draft</span>
    </h1>
    <div class="menu">
      <ul class="menu">
   <li><h4><a href="../../../docs.html">overview</a></h4>
      <ul>
         <li><a href="../../responses.html">responses</a></li>
         <li><a href="../../errors.html">errors</a></li>
         <li><a href="../../examples.html">examples</a></li>

      </ul>
   </li>
   <li><h4>calls</h4>
      <ul>

         <li><a href="../sessions.html">sessions</a></li>

         <li><a href="../users.html">users</a>
            <ul>

               <li><a href="../users/systemalerts.html">system alerts</a></li>

               <li><a href="../questions.html">questions</a></li>

               <li><a href="../hubs.html">hubs</a>
                  <ul>
                     <li><a href="../hubs/activityLog.html">activity log (history)</a></li>
                     <li><a href="../devices.html">devices</a>
                       <ul>

                           <li><a href="../devices/events.html">events</a></li>

                        </ul>
                     </li>
                     <li><a href="../hubs/profiles.html">profiles</a></li>

                     <li>rules
                        <ul>
                           <li><a href="../rules/actions.html">actions</a></li>
                           <li><a href="../../actions.html">action types</a></li>                           
                           <li><a href="../rules/wizard.html">wizard</a></li>
                        </ul>
                     </li>
                     <li><a href="../services.html">services</a>
                        <ul>

                           <li><a href="../services/events.html">events</a></li>

                        </ul>
                     </li>

                  </ul>
               </li>

               <li><a href="../widgets.html">widgets</a>
                  <ul>
                     <li><a href="alarm.html">alarm</a></li>
                     <li><a href="care.html">care</a></li>
                     <li><a href="cameras.html">cameras</a></li>
                     <li><a href="climate.html">climate</a></li>
                     <li><a href="dashboard.html">dashboard</a></li>
                     <li><a href="heating.html">heating</a></li>
                     <li><a href="locks.html">locks</a></li>
                     <li><a href="homestatus.html">homestatus</a></li>

                     <li><a href="presence.html">presence</a></li>
                     <li><a href="smartplugs.html">smartplugs</a></li>
                     <li><a href="swingometer.html">swingometer</a></li>
                     <li><a href="temperature.html">temperature</a></li>
                     <li><a href="usage.html">usage</a></li>
                     <li><a href="petdoors.html">petdoors</a></li>
                     <li><a href="group.html">groups</a></li>
                     <li><a href="history.html">history</a></li>
                     <li><a href="irrigation.html">irrigation</a></li>
                     <li><a href="secondaryuser.html">secondaryuser</a></li>
                  </ul>
               </li>
            </ul>
         </li>
      </ul>
   </li>
</ul>
    </div>
    <div class="doc calls widgets care_page">
      <div class="section">
    <p>
        All calls listed below follow
        <span class="call">/users/<em>:userId</em>/widgets</span>
        in the URI;
        this prefix has been omitted for conciseness
    </p>
</div>

<div class="section">
   <h2>GET <span class="call">/care</span></h2>

   <p>Returns summary for a care widget.</p>

   <div class="sample">
   <h3>Sample Response:</h3>

   <p class="json">
      {
         "state":"PASSIVE",
         "alarmed":false,
         "lastTriggered": {
            "time":"1352731499",
            "devices":[
               {
                  "type":"ContactSensor",
                  "name":"Contact Sensor 1",
                  "id":"AD-02-02-02-02-02-02-02"
               }
            ]
         },
         "alertsEnabled":false,
         "timeline":{
            "start":1352901485,
            "end":1352908685,
            "values":[
               {
                  "location":"INACTIVE",
                  "from":1352901499,
                  "to":1352901499
               },
               {
                  "location":"INACTIVE",
                  "from":1352901620,
                  "to":1352901620
               },
               {
                  "location":"ACTIVE",
                  "from":1352901741,
                  "to":1352901741
               }
            ]
         },
         "activityLog":[
            {
               "id":"56341",
               "timestamp":1352731499,
               "type":"CATriggered",
               "details":{
                  "1":{
                     "source":"device",
                     "devType":"ContactSensor",
                     "devName":"Contact Sensor 1",
                     "deviceId":"AD-02-02-02-02-02-02-02"
                  }
               }
            },
            {
               "id":"56337",
               "timestamp":1352731439,
               "type":"CATriggered",
               "details":{
                  "1":{
                     "source":"device",
                     "devType":"ContactSensor",
                     "devName":"Contact Sensor 1",
                     "deviceId":"AD-02-02-02-02-02-02-02"
                  }
               }
            },
            {
               "id":"56333",
               "timestamp":1352731379,
               "type":"CATriggered",
               "details":{
                  "1":{
                     "source":"device",
                     "devType":"ContactSensor",
                     "devName":"Contact Sensor 1",
                     "deviceId":"AD-02-02-02-02-02-02-02"
                  }
               }
            }
         ],
         "widgetStatus":"OK",
         "widgetVisible":true
      }
    </p>
    </div>
    
   <div class="args">
      <h3>Returned value explanation</h3>
      <dl>
         <dt>state</dt>
         <dd>current care alarm state</dd>
         <dt>alarmed</dt>
         <dd>shows if alarm is currently sounding</dd>
         <dt>lastTriggered</dt>
         <dd>information about device which triggered care alarm last</dd>
         <dt>alertsEnabled</dt>
         <dd>current state of care alerts</dd>
         <dt>timeline</dt>
         <dd>timeline values calculated from devices</dd>
         <dt>activityLog</dt>
         <dd>last activity log entries</dd>
         <dt>widgetStatus</dt>
         <dd>returns status as in subscription/widgets/status & dashboard widget</dd>
         <dt>widgetVisible</dt>
         <dd>returns flag for widget's visibility</dd>
      </dl>
   </div>
   
   <div class="args">
      <h3>Possible states</h3>
      <dl class="wide">
         <dt>TRIGGERED</dt>
         <dd>Care alarm has been triggered</dd>
         <dt>PASSIVE</dt>
         <dd>No alarms are currently triggered</dd>
         <dt>CLEARED</dt>
         <dd>Alarm was cleared</dd>
         <dt>NOT_INSTALLED</dt>
         <dd>Widget or care service is not installed</dd>
         <dt>UNKNOWN</dt>
         <dd>(very unlikely to occur) the system is in an unknown state or a temporary problem has occured preventing checking of current state</dd>
         <dt>NO_PERMISSION_FOR_THIS_USER</dt>
         <dd>Senior Care feature is not allowed for the user </dd>
      </dl>
   </div>

    <div class="args">
        <h3>Possible widgetStatuses</h3>
        <dl class="wide">
            <dt>OK</dt>
            <dd>Widget able to prepare all data</dd>
            <dt>NOT_AVAILABLE</dt>
            <dd>Widget is not available due user's subscription</dd>
            <dt>NO_DEVICE</dt>
            <dd>No device assigned to this widget</dd>
            <dt>DEVICE_MISSING</dt>
            <dd>Assigned devices are missing</dd>
            <dt>NO_DATA</dt>
            <dd>Inner error, data cannot be prepared correctly</dd>
        </dl>
    </div>
</div>

<div class="section">
   <h2>GET <span class="call">/care/alertsEnabled</span></h2>

   <p>Returns care alerts status</p>
   <div class="sample">
   <h3>Sample Response:</h3>

   <p class="json">
   {
      "enabled":true
   }
    </p>
    </div>

</div>

<div class="section">
    <h2>POST <span class="call">/care/alertsEnabled</span></h2>

   <p>Set care alerts state.</p>
   <h3>Arguments:</h3>
   <dl>
      <dt>enabled</dt>
      <dd>"true", "false"</dd>
   </dl>

   <div class="sample">
   <h3>Sample Response:</h3>

    <p class="json">
    {
       "result":true
    }
    </p>
    </div>
</div>
    </div>
  </body>

<!-- Mirrored from api.irissmarttest.com/v5/docs/calls/widgets/care by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 18 Feb 2014 21:37:15 GMT -->
</html>
